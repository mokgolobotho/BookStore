@{
    ViewData["Title"] = "Register";
}

@* @section Navbar {
        <div class="container-fluid" >
            <a asp-action="Login" asp-controller="Authentication" class="btn btn-secondary ms-auto">Login</a>

        </div>

} *@

<div class="container justify-content-center" style="width: 500px;">
    <h1 class="text-center">Register</h1>
    @if (ViewData["ErrorMessage"] != null)
    {
                                            <div class="alert alert-danger">@ViewData["ErrorMessage"]</div>
    }
    <form asp-action="Register" asp-controller="Authentication" method="post" id="registrationForm">
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label>Name</label>
                    <input name="name" type="text" class="form-control" required/>
                </div>

                <div class="form-group">
                    <label>Surname</label>
                    <input name="surname" type="text" class="form-control" required/>
                </div>

                <div class="form-group">
                    <label>Cellphone</label>
                    <input name="cellphone" type="text" class="form-control" required/>
                </div>

                <div class="form-group">
                    <label>Email</label>
                    <input name="email" type="email" step="0.01" class="form-control" required/>
                </div>

                <div class="form-group">
                    <label>Role</label>
                    <select name="role" step="0.01" class="form-control">
                        <option>Please select your role</option>
                        <option value="Publisher">Publisher</option>
                        <option value="Author">Author</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Password</label>
                    <input name="password" type="password" class="form-control" required id="password"/>
                </div>

                <div class="form-group">
                    <label>Retype Password</label>
                    <input type="password" class="form-control" required id="retypePassword"/>
                </div>

                <div id="passwordError" class= "alert alert-danger" style="display: none;">
                    Password do not match!
                </div>

                <div class="form-group">
                    <div asp-validation-summary="All" class=""text"-danger"> </div>
                </div>

                <div >
                    <center>
                        <button type="submit" class="btn btn-secondary">Register</button>
                    </center>
                </div>
            </div>
        </div>
~
    </form>
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            $('#registrationForm').on("submit", function(e){
                var password = $('#password').val();
                var retypePassword = $('#retypePassword').val();

                if(password != retypePassword){
                    e.preventDefault();
                    $('#passwordError').show();
                }else{
                    $('#passwordError').hide();
                }
            });
        });
    </script>
}